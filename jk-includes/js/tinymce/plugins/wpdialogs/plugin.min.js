tinymce.JKWindowManager=tinymce.InlineWindowManager=function(a){if(this.jk)return this;this.jk={},this.parent=a.windowManager,this.editor=a,tinymce.extend(this,this.parent),this.open=function(e,i){var n,o=this,t=this.jk;if(!e.jkDialog)return this.parent.open.apply(this,arguments);e.id&&("undefined"!=typeof jQuery&&jQuery.jk&&jQuery.jk.wpdialog?(t.$element=n=jQuery("#"+e.id),n.length&&(window.console&&window.console.log&&window.console.log("tinymce.JKWindowManager is deprecated. Use the default editor.windowManager to open dialogs with inline HTML."),t.features=e,t.params=i,a.nodeChanged(),n.data("wpdialog")||n.wpdialog({title:e.title,width:e.width,height:e.height,modal:!0,dialogClass:"jk-dialog",zIndex:3e5}),n.wpdialog("open"),n.on("wpdialogclose",function(){o.jk.$element&&(o.jk={})}))):window.console&&window.console.error&&window.console.error('wpdialog.js is not loaded. Please set "wpdialogs" as dependency for your script when calling jk_enqueue_script(). You may also want to enqueue the "jk-jquery-ui-dialog" stylesheet.'))},this.close=function(){if(!this.jk.features||!this.jk.features.jkDialog)return this.parent.close.apply(this,arguments);this.jk.$element.wpdialog("close")}},tinymce.PluginManager.add("wpdialogs",function(e){e.on("init",function(){e.windowManager=new tinymce.JKWindowManager(e)})});